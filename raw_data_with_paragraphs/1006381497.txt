IEEE 802.11e-2005

== Original 802.11 MAC ==
=== Distributed Coordination Function (DCF) ===
The basic 802.11 MAC layer uses the distributed coordination function (DCF) to share the medium between multiple stations. (DCF) relies on CSMA/CA and optional 802.11 RTS/CTS to share the medium between stations. This has several limitations:
*if many stations attempt to communicate at the same time, many collisions will occur which will lower the available bandwidth and possibly lead to congestive collapse.
*there are no Quality of Service (QoS) guarantees. In particular, there is no notion of high or low priority traffic.
=== Point Coordination Function (PCF) ===
The original 802.11 MAC defines another coordination function called the point coordination function (PCF). This is available only in "infrastructure" mode, where stations are connected to the network through an Access Point (AP). This mode is optional, and only very few APs or Wi-Fi adapters actually implement it. APs send beacon frames at regular intervals (usually every 100 TU or 0.1024 second). Between these beacon frames, PCF defines two periods: the Contention Free Period (CFP) and the Contention Period (CP). In the CP, DCF is used. In the CFP, the AP sends Contention-Free-Poll (CF-Poll) packets to each station, one at a time, to give them the right to send a packet. The AP is the coordinator. Although this allows for a better management of QoS, PCF does not define classes of traffic as is common with other QoS systems (e.g. 802.1p and DiffServ).
== 802.11e MAC protocol operation ==
thumb
The 802.11e enhances the DCF and the PCF, through a new coordination function: the hybrid coordination function (HCF). Within the HCF, there are two methods of channel accessed, similar to those defined in the legacy 802.11 MAC: HCF Controlled Channel Access (HCCA) and Enhanced Distributed Channel Access (EDCA). Both EDCA and HCCA define Traffic Categories (TC). For example, emails could be assigned to a low priority class, and Voice over Wireless LAN (VoWLAN) could be assigned to a high priority class.
=== Enhanced distributed channel access (EDCA) ===
With EDCA, high-priority traffic has a higher chance of being sent than low-priority traffic: a station with high priority traffic waits a little less before it sends its packet, on average, than a station with low priority traffic. This is accomplished through the TCMA protocol, which is a variation of CSMA/CA using a shorter arbitration inter-frame space (AIFS) for higher priority packets.<ref>M. Benveniste, "Tiered Contention Multiple Access' (TCMA), a QoS-Based Distributed MAC Protocol", Proceedings PIMRC 2002, Lisboa, Portugal, September 2002</ref> The exact values depend on the physical layer that is used to transmit the data. In addition, EDCA provides contention-free access to the channel for a period called a Transmit Opportunity (TXOP). A TXOP is a bounded time interval during which a station can send as many frames as possible (as long as the duration of the transmissions does not extend beyond the maximum duration of the TXOP). If a frame is too large to be transmitted in a single TXOP, it should be fragmented into smaller frames. The use of TXOPs reduces the problem of low rate stations gaining an inordinate amount of channel time in the legacy 802.11 DCF MAC. A TXOP time interval of 0 means it is limited to a single MAC service data unit (MSDU) or MAC management protocol data unit (MMPDU).
The levels of priority in EDCA are called access categories (ACs). The contention window (CW) can be set according to the traffic expected in each access category, with a wider window needed for categories with heavier traffic. The CWmin and CWmax values are calculated from aCWmin and aCWmax values, respectively, that are defined for each physical layer supported by 802.11e.
The primary purpose of QoS is to protect high priority data from low priority data. There are also scenarios in which the data needs to be protected from other data of the same class. Admission Control in EDCA address these type of problems. The AP publishes the available bandwidth in beacons. Clients can check the available bandwidth before adding more traffic.
Wi-Fi Multimedia (WMM) is the Wi-Fi Alliance specification which is a subset of IEEE 802.11e. Certified APs must be enabled for EDCA and TXOP. All other enhancements of 802.11e are optional.
=== HCF Controlled Channel Access (HCCA) ===
The HCF (hybrid coordination function) controlled channel access (HCCA) works a lot like PCF. However, in contrast to PCF, in which the interval between two beacon frames is divided into two periods of CFP and CP, the HCCA allows for CFPs being initiated at almost anytime during a CP. This kind of CFP is called a Controlled Access Phase (CAP) in 802.11e. A CAP is initiated by the AP whenever it wants to send a frame to a station or receive a frame from a station in a contention-free manner. In fact, the CFP is a CAP too. During a CAP, the Hybrid Coordinator (HC)—which is also the AP—controls the access to the medium. During the CP, all stations function in EDCA. The other difference with the PCF is that Traffic Class (TC) and Traffic Streams (TS) are defined. This means that the HC is not limited to per-station queuing and can provide a kind of per-session service. Also, the HC can coordinate these streams or sessions in any fashion it chooses (not just round-robin). Moreover, the stations give info about the lengths of their queues for each Traffic Class (TC). The HC can use this info to give priority to one station over another, or better adjust its scheduling mechanism. Another difference is that stations are given a TXOP: they may send multiple packets in a row, for a given time period selected by the HC. During the CFP, the HC allows stations to send data by sending CF-Poll frames.
HCCA is generally considered the most advanced (and complex) coordination function. With the HCCA, QoS can be configured with great precision. QoS-enabled stations have the ability to request specific transmission parameters (data rate, jitter, etc.) which should allow advanced applications like VoIP and video streaming to work more effectively on a Wi-Fi network.
HCCA support is not mandatory for 802.11e APs. In fact, few (if any) APs currently available are enabled for HCCA. Implementing the HCCA on end stations uses the existing DCF mechanism for channel access (no change to DCF or EDCA operation is needed). Stations only need to be able to respond to poll messages. On the AP side, a scheduler and queuing mechanism is needed.
== Other 802.11e specifications ==
In addition to HCCA, EDCA and TXOP, 802.11e specifies additional optional protocols for enhanced 802.11 MAC layer QoS:
=== Automatic power save delivery ===
In addition to the Power Save Polling mechanism, which was available pre-802.11e, new power save delivery and notification mechanisms have been introduced in 802.11e. APSD (automatic power save delivery) provides two ways to start delivery: ‘scheduled APSD’ (S-APSD) and ‘unscheduled APSD’ (U-APSD). With APSD, multiple frames may be transmitted together by the access point to a power-saving device during a service period. After the end of a service period, the device enters a doze state until next service period. With S-APSD, service periods start according to a predetermined schedule known to the power-saving device, thus allowing the Access Point to transmit its buffered traffic without the need for any signaling. With U-APSD, whenever a frame is sent to the Access Point, a service period is triggered, which allows the access point to send buffered frames in the other direction. U-APSD can take a ‘full’ U-APSD or ‘hybrid’ U-APSD form. With Full U-APSD, all types of frames use U-APSD independently of their priority. With Hybrid U-APSD, either U-APSD or the legacy Power Save Polling mechanism is used, depending on the access category. S-APSD is available for both channel access mechanisms, EDCA and HCCA, while U-APSD is available only for EDCA.<ref name="benven1" /><ref>X.Pérez-Costa, D.Camps-Mur and T.Sashihara. urltoken Analysis of the Integration of IEEE 802.11e Capabilities in Battery Limited Mobile Devices. IEEE Wireless Communications Magazine (WirComMag), special issue on Internetworking Wireless LAN and Cellular Networks, Volume 12, Issue 6, December 2005.</ref>
APSD is a more efficient power management method than legacy 802.11 Power Save Polling, leading to lower power consumption, as it reduces both the signaling traffic that would otherwise be needed for delivery of buffered frames to power-saving devices by an AP and the collision rate among power-save polls, typically transmitted immediately after the beacon TIM. S-APSD is more efficient than U-APSD because scheduled service periods reduce contention and because transmission between the access point and a power-saving device starts without the need for any signaling. A power-saving device using U-APSD must generate signaling frames to retrieve buffered traffic in the absence of uplink traffic, as for instance in the case of audio, video, or best effort traffic applications found in today's smartphones. U-APSD is attractive for VoIP phones, as data rates are roughly the same in both directions, thus requiring no extra signaling—an uplink voice frame can trigger a service period for the transmission of a downlink voice frame.<ref name="benven2">M. Benveniste, "Guidelines for Power Management", urltoken Doc IEEE 802.11-04/073, January 2004</ref> Hybrid U-APSD is less efficient than Full U-APSD because the Power Save Polling mechanism it employs for some access categories is less efficient than APSD, as explained above. The relative advantages of the various power-save mechanisms have been confirmed independently by simulations.<ref name="perez2">X.Pérez-Costa and D.Camps-Mur. urltoken IEEE 802.11e QoS and Power Saving feature: Overview and Analysis of Combined Performance. IEEE 802.11e QoS and Power Saving feature: Overview and Analysis of Combined Performance. IEEE Wireless Communications Magazine (WirComMag), Volume 17, Issue 4, August 2010.</ref><ref>X.Pérez-Costa, D.Camps-Mur and Albert Vidal. urltoken On the Distributed Power Saving Mechanisms of Wireless LANs 802.11e U-APSD vs 802.11 Power Save Mode. Elsevier Computer Networks Journal (CN), Volume 51, Issue 9, June 2007.</ref>
Most newer 802.11 stations already support a power management mechanism similar to APSD.
=== Block acknowledgments ===
Block acknowledgments allow an entire TXOP to be acknowledged in a single frame. This will provide less protocol overhead when longer TXOPs are specified.
=== NoAck ===
In QoS mode, service class for frames to send can have two values: QosAck and QosNoAck. Frames with QosNoAck are not acknowledged. This avoids retransmission of highly time-critical data.
=== Direct Link Setup ===
Direct Link Setup allows direct station-to-station frame transfer within a basic service set. This is designed primarily for consumer use, where station-to-station transfer is more commonly used. For example, when streaming video to a television across the living room, or printing to a wireless printer in the same room, it can be more efficient to send Wi-Fi frames directly between the two communicating devices, instead of using the standard technique of always sending everything via the AP, which involves two radio hops instead of one. Also, If the AP is far away in some distant part of the home, sending all the frames to the AP and back may require them to be sent at a lower transmission rate. However, DLS requires participation from the AP to facilitate the more efficient direct communication, and few, if any, APs have the necessary support for this. Tunnelled Direct Link Setup was published as 802.11z (TDLS), allowing devices to perform more efficient direct station-to-station frame transfers without support from the AP. Both DLS and TLDS require that stations be associated with the same AP. Both DLS and TLDS improve the speed and efficiency of communications between members of a basic service set, but they do not facilitate communication between devices that are near to each other but not associated with the same AP.
Nearby communication between devices not associated with the same AP can be performed using technologies like Wi-Fi Direct, but so far Wi-Fi Direct has not seen widespread adoption.
Microsoft's Virtual Wi-Fi initiative was designed to accomplish the same goal as DLS. Virtual Wi-Fi allows gamers to connect wireless while accessing the Internet through an AP by allowing station adapters to have multiple MAC addresses.<ref></ref>
==References==
==External links==
* urltoken Approval from the IEEE RevCom
* urltoken 802.11e TGe Status (finished)
* urltoken 802.11e Amendment
* urltoken QoX: What is It Really

IEEE 802.11e-2005 or 802.11e is an approved amendment to the IEEE 802.11 standard that defines a set of quality of service (QoS) enhancements for wireless LAN applications through modifications to the media access control (MAC) layer.<ref name="benven1">M. Benveniste, "WLAN QoS", Chapter 3 in Emerging Technologies in Wireless LANs: Theory, Design, and Deployment, (B. Bing, ed.), Cambridge University Press, 2008, .</ref> The standard is considered of critical importance for delay-sensitive applications, such as VoWLAN and streaming multimedia. The amendment has been incorporated into the published IEEE 802.11-2007 standard.